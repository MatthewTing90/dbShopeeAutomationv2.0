
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script type="text/javascript">
    $(function () {
        let form = $("form[id='imgForm']");
        const actionLink = form.attr("action");
        const methodType = form.attr("method");

        form.submit(e => {
            e.preventDefault();

            let imgData = new FormData(form[0]);

            $.ajax({
                url: actionLink,
                type: methodType,
                enctype: 'multipart/form-data',
                processData: false,  // Important!
                contentType: false,
                cache: false,
                data: imgData,
                success: resp => {
                    alert("Neigh Er");
                },
                error: resp => {
                    alert(resp);
                }
            });
        })
    });
</script>

@using (Html.BeginForm("UploadFile", "Trash", FormMethod.Post, new { enctype = "multipart/form-data", @Id = "imgForm" }))
{
    <input type="file" class="form-control" name="fileUpload" />
    <input type="submit" class="btn btn-primary" value="Submit Image" />
}

